<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Organizador de Pastas</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <div class="header-logo">
                    <img src="marca_essentiagroup.svg" alt="Essentia Group" class="logo">
                </div>
                <div class="header-text">
                    <h1>Organizador de pastas</h1>
                    <p>Crie pastas organizadas e padronizadas para os seus projetos.</p>
                </div>
            </div>
        </header>

        <main class="two-column-layout">
            <div class="left-column">
                <div class="form-container">
                    <!-- AI Vision Integration -->
                    <div class="ai-section">
                        <div class="ai-header">
                            <h3>Integra√ß√£o com IA</h3>
                            <p class="ai-subtitle">Extraia informa√ß√µes automaticamente de screenshots</p>
                        </div>
                        
                        <div class="api-key-section">
                            <div class="input-group">
                                <label for="apiKeyInput">Chave API OpenAI:</label>
                                <input 
                                    type="password" 
                                    id="apiKeyInput" 
                                    name="apiKeyInput" 
                                    placeholder="sk-proj-..."
                                    autocomplete="off"
                                >
                                <button type="button" id="toggleApiKey" class="toggle-key-btn" title="Mostrar/Ocultar chave">üëÅ</button>
                                <button type="button" id="clearApiKey" class="clear-key-btn" title="Limpar chave salva">üóë</button>
                            </div>
                            <p class="api-key-help">
                                <a href="https://platform.openai.com/api-keys" target="_blank" rel="noopener">
                                    Obter chave API OpenAI ‚Üí
                                </a>
                            </p>
                            <div class="api-key-instructions">
                                <p><strong>üí° Como configurar:</strong></p>
                                <ol>
                                    <li>Acesse <a href="https://platform.openai.com/api-keys" target="_blank">platform.openai.com/api-keys</a></li>
                                    <li>Clique em "Create new secret key"</li>
                                    <li>Copie a chave completa (come√ßa com "sk-")</li>
                                    <li>Cole no campo acima</li>
                                </ol>
                                <p><small>‚ö†Ô∏è Sua chave deve ter cr√©ditos dispon√≠veis para funcionar.</small></p>
                                <p><small>üîß <strong>Erro "Incorrect API key"?</strong> Verifique se:</small></p>
                                <ul>
                                    <li><small>A chave est√° completa (sem espa√ßos)</small></li>
                                    <li><small>A chave est√° ativa na sua conta OpenAI</small></li>
                                    <li><small>Voc√™ tem cr√©ditos dispon√≠veis</small></li>
                                </ul>
                            </div>
                        </div>

                        <div class="ai-actions">
                            <input type="file" id="imageUpload" accept="image/*" multiple style="display: none;">
                            
                            <div class="dropzone" id="dropzone">
                                <div class="dropzone-content">
                                
                                    <h4>Arraste imagens aqui</h4>
                                    <p>ou <strong>clique para selecionar</strong> ou <strong>Cole (Ctrl+V)</strong></p>
                                    <div class="dropzone-formats">PNG, JPG, JPEG, GIF, WebP</div>
                                </div>
                            </div>
                            
                            <div id="aiProgress" class="progress-container hidden">
                                <div class="progress-bar">
                                    <div class="progress-fill"></div>
                                </div>
                                <span id="progressText" class="progress-text">Processando...</span>
                            </div>
                        </div>

                        <div id="imagesGallery" class="gallery-container hidden">
                            <div class="gallery-header">
                                <span class="gallery-title">Imagens (<span id="imageCount">0</span>)</span>
                                <div class="gallery-actions">
                                    <button type="button" id="processAllBtn" class="btn-small process">Processar Todas</button>
                                    <button type="button" id="clearAllBtn" class="btn-small clear">Limpar</button>
                                </div>
                            </div>
                            <div id="imagesList" class="images-grid">
                                <!-- Imagens ser√£o adicionadas aqui dinamicamente -->
                            </div>
                        </div>
                    </div>

                    <form id="folderForm">
                        <div class="inputs-row">
                            <div class="input-group number-input">
                                <label for="folderNumber">N√∫mero:</label>
                                <input 
                                    type="number" 
                                    id="folderNumber" 
                                    name="folderNumber" 
                                    placeholder="001"
                                    min="1"
                                >
                            </div>
                            <div class="input-group">
                                <label for="folderName">Nome da Pasta:</label>
                                <input 
                                    type="text" 
                                    id="folderName" 
                                    name="folderName" 
                                    placeholder="DIGITE O NOME DA PASTA..."
                                    required
                                    style="text-transform: uppercase;"
                                >
                            </div>
                        </div>

                        <div id="subfolders-area">
                            <div class="subfolders-header">
                                <button type="button" id="addSubfolderBtn" class="add-subfolder-btn">+ Criar Subpasta</button>
                                <label class="switch-container">
                                    <span class="switch-label">Salvar apenas subpastas</span>
                                    <div class="switch">
                                        <input type="checkbox" id="onlySubfoldersSwitch">
                                        <span class="slider"></span>
                                    </div>
                                </label>
                            </div>
                            <div id="subfoldersInputs"></div>
                            
                            <button type="submit" class="save-btn">
                                Salvar Pastas
                            </button>
                        </div>
                    </form>
                </div>
            </div>

            <div class="right-column">
                <div class="preview-container">
                    <h3>Pr√©-visualiza√ß√£o da estrutura das pastas</h3>
                    <div class="folder-structure">
                        <div class="folder-item">
                            <span class="folder-icon">üìÅ</span>
                            <span class="folder-name" id="previewFolderName">nome-da-pasta</span>
                        </div>
                    </div>
                    
                    <div class="observation-box">
                        <p class="observation-text">
                            <span class="observation-icon">üí°</span>
                            <strong>Dica:</strong> Revise cuidadosamente a estrutura das pastas antes de salvar.
                        </p>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <div id="notification" class="notification hidden">
        <span id="notificationMessage"></span>
    </div>

    <script src="script.js"></script>
</body>
</html> 